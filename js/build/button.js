!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.button=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/utils.js")},"ckeditor5/src/widget.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};return(()=>{"use strict";o.d(s,{default:()=>b});var e=o("ckeditor5/src/core.js");class t extends e.Command{execute({color:e,style:t,size:o,href:s,classes:i}){const n=this.editor.model,c=n.document.selection;n.change((n=>{const r=function(e,t,o,s,i,n){const c=e.createElement("ucb-button",{class:`ucb-button-${t} ucb-button-${o} ucb-button-${s} ${n}`,href:i});return c}(n,e,t,o,s,i),l=c.getFirstPosition();n.insert(r,l),n.setSelection(r,"on")}))}refresh(){const e=this.editor.model,t=e.document.selection,o=e.schema.findAllowedParent(t.getFirstPosition(),"ucb-button");this.isEnabled=null!==o;const s=t.getSelectedElement();if(s&&"ucb-button"===s.name){const t=s.getAttributes(),o=e.getAttribute("color"),i=e.getAttribute("style"),n=e.getAttribute("size"),c=[];o&&c.push(`ucb-button-${o}`),i&&c.push(`ucb-button-${i}`),n&&c.push(`ucb-button-${n}`);const r=c.join(" ");r!==t.class&&e.change((e=>{e.setAttribute("class",r,s)}));const l=e.getAttribute("link");l!==t.href&&e.change((e=>{e.setAttribute("href",l,s)}))}}}var i=o("ckeditor5/src/widget.js");class n extends e.Plugin{static get requires(){return[i.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("addButton",new t(this.editor))}_defineSchema(){this.editor.model.schema.register("ucb-button",{isObject:!0,allowWhere:"$block",allowContentOf:"$block",allowAttributes:["class","href"]})}_defineConverters(){const{conversion:e}=this.editor;e.for("upcast").elementToElement({model:"ucb-button",view:(e,{model:t,styles:o})=>{const s=e.getAttribute("href"),i=Array.from(e.classList).filter((e=>e.startsWith("ucb-button-"))).map((e=>e.replace("ucb-button-","")));return t.createElement("ucb-button",{href:s,class:i.join(" ")})}}),e.for("dataDowncast").elementToElement({model:"ucb-button",view:(e,{writer:t})=>{const o=e.getAttribute("href"),s=e.getAttribute("class")||"";return t.createContainerElement("ucb-button",{href:o,class:`${s}`})}}),e.for("editingDowncast").elementToElement({model:"ucb-button",view:(e,{writer:t})=>{const o=e.getAttribute("href"),s=e.getAttribute("class")||"";return t.createContainerElement("ucb-button",{href:o,class:`${s}`})}})}}var c=o("ckeditor5/src/ui.js"),r=o("ckeditor5/src/utils.js");class l extends c.View{constructor(t){super(t),this.focusTracker=new r.FocusTracker,this.keystrokes=new r.KeystrokeHandler,this.linkInputView=this._createInput("Add Link"),this.saveButtonView=this._createButton("Save",e.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton("Cancel",e.icons.cancel,"ck-button-cancel"),this.cancelButtonView.delegate("execute").to(this,"cancel"),this.childViews=this.createCollection([this.linkInputView,this.saveButtonView,this.cancelButtonView]),this._focusCycler=new c.FocusCycler({focusables:this.childViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-button-form"],tabindex:"-1"},children:this.childViews})}render(){super.render(),(0,c.submitHandler)({view:this}),this.childViews._items.forEach((e=>{this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.linkInputView.isEnabled,this.linkInputView.focus()}_createInput(e){const t=new c.LabeledFieldView(this.locale,c.createLabeledInputText);return t.label=e,t}_createButton(e,t,o){const s=new c.ButtonView;return s.set({label:e,icon:t,tooltip:!0,class:o}),s}_createDropdownButton(e,t,o,s){const i=this.editor,n=new c.ButtonView;return n.set({label:e,icon:t,tooltip:!0,isToggleable:!0,withText:!t}),n.bind("isEnabled").to(o),n.bind("isOn").to(o,"value",(e=>e===s)),this.listenTo(n,"execute",(()=>{o.execute({value:s}),i.editing.view.focus()})),n}_createDropdown(e,t,o,s){const i=createDropdown(e);return addToolbarToDropdown(i,Object.entries(s).map((([e,t])=>this._createDropdownButton(t.label,t.icon,o,e)))),i.buttonView.set({label:t,icon,tooltip:!0,withText:!icon}),i.bind("isEnabled").to(o,"isEnabled"),i}}e.icons.large,e.icons.regular,e.icons.small;const a={blue:{label:"Blue",className:"ucb-button-blue"},black:{label:"Black",className:"ucb-button-black"},grey:{label:"Grey",className:"ucb-button-grey"},white:{label:"White",className:"ucb-button-white"}},u={full:{label:"Full",icon:e.icons.objectFullWidth,className:"ucb-button-full"},regular:{label:"Regular",icon:e.icons.objectCenter,className:"ucb-button-regular"}};class d extends e.Plugin{static get requires(){return[c.ContextualBalloon]}init(){const e=this.editor.ui.componentFactory;this._balloon=this.editor.plugins.get(c.ContextualBalloon),this.formView=this._createFormView(),e.add("button",(()=>{const e=new c.ButtonView;return e.label="Button",e.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --\x3e<path d="M358.182 179.361c-19.493-24.768-52.679-31.945-79.872-19.098-15.127-15.687-36.182-22.487-56.595-19.629V67c0-36.944-29.736-67-66.286-67S89.143 30.056 89.143 67v161.129c-19.909-7.41-43.272-5.094-62.083 8.872-29.355 21.795-35.793 63.333-14.55 93.152l109.699 154.001C134.632 501.59 154.741 512 176 512h178.286c30.802 0 57.574-21.5 64.557-51.797l27.429-118.999A67.873 67.873 0 0 0 448 326v-84c0-46.844-46.625-79.273-89.818-62.639zM80.985 279.697l27.126 38.079c8.995 12.626 29.031 6.287 29.031-9.283V67c0-25.12 36.571-25.16 36.571 0v175c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16v-35c0-25.12 36.571-25.16 36.571 0v35c0 8.836 7.163 16 16 16H272c8.837 0 16-7.164 16-16v-21c0-25.12 36.571-25.16 36.571 0v21c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16 0-25.121 36.571-25.16 36.571 0v84c0 1.488-.169 2.977-.502 4.423l-27.43 119.001c-1.978 8.582-9.29 14.576-17.782 14.576H176c-5.769 0-11.263-2.878-14.697-7.697l-109.712-154c-14.406-20.223 14.994-42.818 29.394-22.606zM176.143 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.733 0-14-7.163-14-16zm75.428 0v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16zM327 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16z"/></svg>',e.tooltip=!0,e.withText=!1,this.listenTo(e,"execute",(()=>{this._showUI()})),e})),e.add("buttonColor",(e=>this._createDropdown(e,"Button Color",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M162.4 6c-1.5-3.6-5-6-8.9-6h-19c-3.9 0-7.5 2.4-8.9 6L104.9 57.7c-3.2 8-14.6 8-17.8 0L66.4 6c-1.5-3.6-5-6-8.9-6H48C21.5 0 0 21.5 0 48V224v22.4V256H9.6 374.4 384v-9.6V224 48c0-26.5-21.5-48-48-48H230.5c-3.9 0-7.5 2.4-8.9 6L200.9 57.7c-3.2 8-14.6 8-17.8 0L162.4 6zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z"/></svg>\n',commands.get("value"),a,"black"))),e.add("buttonStyle",(e=>this._createDropdown(e,"Button Style",alignmentOptions[alignmentDefault].icon,commands.get("value"),u,"regular"))),e.add("buttonSize",(e=>this._createDropdown(e,"Button Size",u[styleDefault].icon,commands.get("value"),u,"regular")))}afterInit(){this.editor.plugins.get(i.WidgetToolbarRepository).register("button",{items:["buttonColor","buttonStyle","buttonSize"],getRelatedElement:e=>e.focus.getAncestors().find((e=>e.is("element")&&e.hasClass("ucb-button")))})}_createFormView(){const e=this.editor,t=new l(e.locale);return this.listenTo(t,"submit",(()=>{const o={link:t.linkInputView.fieldView.element.value};e.execute("addButton",o),this._hideUI()})),this.listenTo(t,"cancel",(()=>{this._hideUI()})),(0,c.clickOutsideHandler)({emitter:t,activator:()=>this._balloon.visibleView===t,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()}),t}_showUI(){const e=this.editor.model.document.selection,t=this.editor.commands.get("addButton").value;if(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.linkInputView.isEnabled=e.getFirstRange().isCollapsed,t)this.formView.linkInputView.fieldView.value=t.link;else{const t=(o=e.getFirstRange(),Array.from(o.getItems()).reduce(((e,t)=>t.is("text")||t.is("textProxy")?e+t.data:e),""));this.formView.linkInputView.fieldView.value=t}var o;this.formView.focus()}_hideUI(){this.formView.linkInputView.fieldView.value="",this.formView.element.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus()}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;let o=null;return o=()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange()),{target:o}}}class h extends e.Plugin{static get requires(){return[n,d]}}const b={Button:h}})(),s=s.default})()));