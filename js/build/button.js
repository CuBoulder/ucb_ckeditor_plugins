!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.button=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/utils.js")},"ckeditor5/src/widget.js":(e,t,s)=>{e.exports=s("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";s.d(i,{default:()=>d});var e=s("ckeditor5/src/core.js");class t extends e.Command{execute({color:e,style:t,size:s,href:i,classes:o}){const r=this.editor.model,n=r.document.selection;r.change((r=>{const c=function(e,t,s,i,o,r){const n=e.createElement("ucb-button",{class:`ucb-button-${t} ucb-button-${s} ucb-button-${i} ${r}`,href:o});return n}(r,e,t,s,i,o),l=n.getFirstPosition();r.insert(c,l),r.setSelection(c,"on")}))}refresh(){const e=this.editor.model,t=e.document.selection,s=e.schema.findAllowedParent(t.getFirstPosition(),"ucb-button");this.isEnabled=null!==s;const i=t.getSelectedElement();if(i&&"ucb-button"===i.name){const t=i.getAttributes(),s=e.getAttribute("color"),o=e.getAttribute("style"),r=e.getAttribute("size"),n=[];s&&n.push(`ucb-button-${s}`),o&&n.push(`ucb-button-${o}`),r&&n.push(`ucb-button-${r}`);const c=n.join(" ");c!==t.class&&e.change((e=>{e.setAttribute("class",c,i)}));const l=e.getAttribute("link");l!==t.href&&e.change((e=>{e.setAttribute("href",l,i)}))}}}var o=s("ckeditor5/src/widget.js");class r extends e.Plugin{static get requires(){return[o.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("addButton",new t(this.editor))}_defineSchema(){this.editor.model.schema.register("ucb-button",{isObject:!0,allowWhere:"$block",allowContentOf:"$block",allowAttributes:["class","href"]})}_defineConverters(){const{conversion:e}=this.editor;e.for("upcast").elementToElement({model:"ucb-button",view:(e,{model:t,styles:s})=>{const i=e.getAttribute("href"),o=Array.from(e.classList).filter((e=>e.startsWith("ucb-button-"))).map((e=>e.replace("ucb-button-","")));return t.createElement("ucb-button",{href:i,class:o.join(" ")})}}),e.for("dataDowncast").elementToElement({model:"ucb-button",view:(e,{writer:t})=>{const s=e.getAttribute("href"),i=e.getAttribute("class")||"";return t.createContainerElement("ucb-button",{href:s,class:`${i}`})}}),e.for("editingDowncast").elementToElement({model:"ucb-button",view:(e,{writer:t})=>{const s=e.getAttribute("href"),i=e.getAttribute("class")||"";return t.createContainerElement("ucb-button",{href:s,class:`${i}`})}})}}var n=s("ckeditor5/src/ui.js"),c=s("ckeditor5/src/utils.js");class l extends n.View{constructor(t){super(t),this.focusTracker=new c.FocusTracker,this.keystrokes=new c.KeystrokeHandler,this.linkInputView=this._createInput("Add Link"),this.saveButtonView=this._createButton("Save",e.icons.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton("Cancel",e.icons.cancel,"ck-button-cancel"),this.cancelButtonView.delegate("execute").to(this,"cancel"),this.childViews=this.createCollection([this.linkInputView,this.saveButtonView,this.cancelButtonView]),this._focusCycler=new n.FocusCycler({focusables:this.childViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-button-form"],tabindex:"-1"},children:this.childViews})}render(){super.render(),(0,n.submitHandler)({view:this}),this.childViews._items.forEach((e=>{this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.linkInputView.isEnabled,this.linkInputView.focus()}_createInput(e){const t=new n.LabeledFieldView(this.locale,n.createLabeledInputText);return t.label=e,t}_createButton(e,t,s){const i=new n.ButtonView;return i.set({label:e,icon:t,tooltip:!0,class:s}),i}}class u extends e.Plugin{static get requires(){return[n.ContextualBalloon]}init(){const e=this.editor;this._balloon=this.editor.plugins.get(n.ContextualBalloon),this.formView=this._createFormView(),e.ui.componentFactory.add("button",(()=>{const e=new n.ButtonView;return e.label="Button",e.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --\x3e<path d="M358.182 179.361c-19.493-24.768-52.679-31.945-79.872-19.098-15.127-15.687-36.182-22.487-56.595-19.629V67c0-36.944-29.736-67-66.286-67S89.143 30.056 89.143 67v161.129c-19.909-7.41-43.272-5.094-62.083 8.872-29.355 21.795-35.793 63.333-14.55 93.152l109.699 154.001C134.632 501.59 154.741 512 176 512h178.286c30.802 0 57.574-21.5 64.557-51.797l27.429-118.999A67.873 67.873 0 0 0 448 326v-84c0-46.844-46.625-79.273-89.818-62.639zM80.985 279.697l27.126 38.079c8.995 12.626 29.031 6.287 29.031-9.283V67c0-25.12 36.571-25.16 36.571 0v175c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16v-35c0-25.12 36.571-25.16 36.571 0v35c0 8.836 7.163 16 16 16H272c8.837 0 16-7.164 16-16v-21c0-25.12 36.571-25.16 36.571 0v21c0 8.836 7.163 16 16 16h6.857c8.837 0 16-7.164 16-16 0-25.121 36.571-25.16 36.571 0v84c0 1.488-.169 2.977-.502 4.423l-27.43 119.001c-1.978 8.582-9.29 14.576-17.782 14.576H176c-5.769 0-11.263-2.878-14.697-7.697l-109.712-154c-14.406-20.223 14.994-42.818 29.394-22.606zM176.143 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.733 0-14-7.163-14-16zm75.428 0v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16zM327 400v-96c0-8.837 6.268-16 14-16h6c7.732 0 14 7.163 14 16v96c0 8.837-6.268 16-14 16h-6c-7.732 0-14-7.163-14-16z"/></svg>',e.tooltip=!0,e.withText=!1,this.listenTo(e,"execute",(()=>{this._showUI()})),e}))}_createFormView(){const e=this.editor,t=new l(e.locale);return this.listenTo(t,"submit",(()=>{const s={link:t.linkInputView.fieldView.element.value};e.execute("addButton",s),this._hideUI()})),this.listenTo(t,"cancel",(()=>{this._hideUI()})),(0,n.clickOutsideHandler)({emitter:t,activator:()=>this._balloon.visibleView===t,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()}),t}_showUI(){const e=this.editor.model.document.selection,t=this.editor.commands.get("addButton").value;if(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.linkInputView.isEnabled=e.getFirstRange().isCollapsed,t)this.formView.linkInputView.fieldView.value=t.link;else{const t=(s=e.getFirstRange(),Array.from(s.getItems()).reduce(((e,t)=>t.is("text")||t.is("textProxy")?e+t.data:e),""));this.formView.linkInputView.fieldView.value=t}var s;this.formView.focus()}_hideUI(){this.formView.linkInputView.fieldView.value="",this.formView.element.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus()}_getBalloonPositionData(){const e=this.editor.editing.view,t=e.document;let s=null;return s=()=>e.domConverter.viewRangeToDom(t.selection.getFirstRange()),{target:s}}}class a extends e.Plugin{static get requires(){return[r,u]}}const d={Button:a}})(),i=i.default})()));