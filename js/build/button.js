!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.button=e())}(self,()=>(()=>{var t=[t=>{"use strict";t.exports=CKEditor5.dll},(t,e,i)=>{t.exports=i(0)("./src/core.js")},(t,e,i)=>{t.exports=i(0)("./src/ui.js")},,(t,e,i)=>{t.exports=i(0)("./src/widget.js")},(t,e,i)=>{t.exports=i(0)("./src/utils.js")}],e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var o={};return(()=>{"use strict";i.d(o,{default:()=>k});var t=i(1);const e={large:{label:"Large",className:"ucb-link-button-large"},regular:{label:"Regular",className:"ucb-link-button-regular"},small:{label:"Small",className:"ucb-link-button-small"}},n="regular",s={blue:{label:"Blue",className:"ucb-link-button-blue"},black:{label:"Black",className:"ucb-link-button-black"},gray:{label:"Gray",className:"ucb-link-button-gray"},white:{label:"White",className:"ucb-link-button-white"},gold:{label:"Gold",className:"ucb-link-button-gold"}},l="blue",r={default:{label:"Default",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',className:"ucb-link-button-default"},full:{label:"Full",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',className:"ucb-link-button-full"}},a="default";class c extends t.Command{constructor(t){super(t),this.set("existingButtonSelected",!1)}execute({value:t="",size:e=n,style:i=a,color:o=l,href:s="",classes:r=""}){const c=this.editor.model,u=c.document.selection;c.change(t=>{const n=u.getFirstRange(),l=t.createElement("linkButton",{linkButtonColor:o,linkButtonSize:e,linkButtonStyle:i,linkButtonHref:s}),r=t.createElement("linkButtonContents");for(const e of n.getItems()){let i;e.is("textProxy")?i=t.createText(e.data,e.textNode.getAttributes()):e.is("element")&&(i=t.cloneElement(e)),i&&c.schema.checkChild(r,i)&&t.append(i,r)}t.append(r,l),c.insertContent(l),t.setSelection(r,"in")})}refresh(){const t=this.editor.model,e=t.document.selection,i=e.getSelectedElement(),o=t.schema.findAllowedParent(e.getFirstPosition(),"linkButton");var n;this.isEnabled=null!==o,this.existingButtonSelected=(n=i)&&"linkButton"===n.name?i:null}}var u=i(4);class h extends t.Plugin{static get requires(){return[u.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("addButton",new c(this.editor))}_defineSchema(){const t=this.editor.model.schema;t.register("linkButton",{allowWhere:"$text",isObject:!0,isInline:!0,allowAttributes:["linkButtonColor","linkButtonStyle","linkButtonSize","linkButtonHref"]}),t.register("linkButtonContents",{isLimit:!0,allowIn:"linkButton",allowContentOf:"$block"}),t.addChildCheck((t,e)=>{if(t.endsWith("linkButtonContents")&&"linkButton"===e.name)return!1})}_defineConverters(){const{conversion:t}=this.editor;t.attributeToAttribute(d("linkButtonColor",s)),t.attributeToAttribute(d("linkButtonStyle",r)),t.attributeToAttribute(d("linkButtonSize",e)),t.for("upcast").add(t=>{t.on("element:a",(t,e,i)=>{if(i.consumable.consume(e.viewItem,{name:!0,classes:"ucb-link-button",attributes:["href"]})){const t=i.writer.createElement("linkButton",{linkButtonHref:e.viewItem.getAttribute("href")});if(!i.safeInsert(t,e.modelCursor))return;i.convertChildren(e.viewItem,t),i.updateConversionResult(t,e)}})}),t.for("upcast").elementToElement({model:"linkButtonContents",view:{name:"span",classes:"ucb-link-button-contents"}}),t.for("downcast").attributeToAttribute({model:"linkButtonHref",view:"href"}),t.for("dataDowncast").elementToElement({model:"linkButton",view:{name:"a",classes:"ucb-link-button"}}),t.for("dataDowncast").elementToElement({model:"linkButtonContents",view:{name:"span",classes:"ucb-link-button-contents"}}),t.for("editingDowncast").elementToElement({model:"linkButton",view:(t,{writer:e})=>(0,u.toWidget)(e.createContainerElement("a",{class:"ucb-link-button",onclick:"event.preventDefault()"},{renderUnsafeAttributes:["onclick"]}),e,{label:"button widget"})}),t.for("editingDowncast").elementToElement({model:"linkButtonContents",view:(t,{writer:e})=>(0,u.toWidgetEditable)(e.createEditableElement("span",{class:"ucb-link-button-contents"}),e)})}}function d(t,e){const i={};for(const[t,o]of Object.entries(e))i[t]={key:"class",value:o.className};return{model:{key:t,values:Object.keys(e)},view:i}}var w=i(2),m=i(5);class b extends w.View{constructor(t,i){super(t),this.focusTracker=new m.FocusTracker,this.keystrokes=new m.KeystrokeHandler,this.colorDropdown=this._createSelectionDropdown(t,"Color",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M162.4 6c-1.5-3.6-5-6-8.9-6h-19c-3.9 0-7.5 2.4-8.9 6L104.9 57.7c-3.2 8-14.6 8-17.8 0L66.4 6c-1.5-3.6-5-6-8.9-6H48C21.5 0 0 21.5 0 48V224v22.4V256H9.6 374.4 384v-9.6V224 48c0-26.5-21.5-48-48-48H230.5c-3.9 0-7.5 2.4-8.9 6L200.9 57.7c-3.2 8-14.6 8-17.8 0L162.4 6zM0 288v32c0 35.3 28.7 64 64 64h64v64c0 35.3 28.7 64 64 64s64-28.7 64-64V384h64c35.3 0 64-28.7 64-64V288H0zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z"/></svg>\n',"color",s,l),this.sizeDropdown=this._createSelectionDropdown(t,"Size",e[n].icon,"size",e,n),this.styleDropdown=this._createSelectionDropdown(t,"Style",r[a].icon,"style",r,a),this.linkInputView=this._createInput("Add Link"),this.set("size",n),this.set("color",l),this.set("style",a),this.linkInputView.fieldView.bind("href").to(this,"href"),this.set("href",""),this.saveButtonView=this._createButton("Save",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton("Cancel",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',"ck-button-cancel"),this.cancelButtonView.delegate("execute").to(this,"cancel"),this.childViews=this.createCollection([this.sizeDropdown,this.colorDropdown,this.styleDropdown,this.linkInputView,this.saveButtonView,this.cancelButtonView]),this._focusCycler=new w.FocusCycler({focusables:this.childViews,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-button-form"],tabindex:"-1"},children:this.childViews})}render(){super.render(),(0,w.submitHandler)({view:this}),this.childViews._items.forEach(t=>{this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.linkInputView.isEnabled,this.linkInputView.focus()}_createInput(t){const e=new w.LabeledFieldView(this.locale,w.createLabeledInputText);return e.label=t,e}_createButton(t,e,i){const o=new w.ButtonView;return o.set({label:t,icon:e,tooltip:!0,class:i}),o}_createSelectionDropdown(t,e,i,o,n,s){const l=(0,w.createDropdown)(t),r=n[s];return(0,w.addToolbarToDropdown)(l,Object.entries(n).map(([e,i])=>this._createSelectableButton(t,i.label,i.icon,o,e))),l.buttonView.set({icon:i,tooltip:t.t(e),withText:!i}),l.buttonView.bind("label").to(this,o,e=>t.t(n[e]?n[e].label:r.label)),i===n[s].icon&&l.buttonView.bind("icon").to(this,o,t=>n[t]?n[t].icon:r.icon),l}_createSelectableButton(t,e,i,o,n){const s=new w.ButtonView;return s.set({label:t.t(e),icon:i,tooltip:!!i,isToggleable:!0,withText:!i}),s.bind("isOn").to(this,o,t=>t===n),this.listenTo(s,"execute",()=>{this.set(o,n)}),s}}class f extends t.Plugin{static get requires(){return[w.ContextualBalloon]}static get pluginName(){return"ButtonUI"}init(){const t=this.editor,e=t.ui.componentFactory,i=t.commands.get("addButton"),o=t.editing.view.document;this._balloon=this.editor.plugins.get(w.ContextualBalloon),this.formView=this._createFormView(t.locale),this.buttonView=null,e.add("button",t=>{const e=new w.ButtonView(t);e.label="Button",e.icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg>',e.tooltip=!0,e.withText=!1,e.isToggleable=!0,this.listenTo(e,"execute",()=>{this._showUI(i.existingButtonSelected)}),this.buttonView=e;const n=()=>{const t=i.existingButtonSelected;e.isOn=!!t};return this.listenTo(i,"change:value",n),this.listenTo(i,"change:existingButtonSelected",n),this.listenTo(o,"click",()=>{i.existingButtonSelected&&this._showUI(i.existingButtonSelected)}),this.on("showUI",(t,e)=>{this._showUI(e)}),e.bind("isOn","isEnabled").to(i,"value","isEnabled"),e})}_createFormView(t){const e=this.editor,i=e.ui.componentFactory,o=new b(t,i);return this.listenTo(o,"submit",()=>{const t={href:o.linkInputView.fieldView.element.value,color:o.color,size:o.size,style:o.style};e.execute("addButton",t),this._hideUI()}),this.listenTo(o,"cancel",()=>{this._hideUI()}),o.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),(0,w.clickOutsideHandler)({emitter:o,activator:()=>this._balloon.visibleView===o,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()}),o}_showUI(t){this.buttonView.isOn=!0,this._balloon.visibleView&&this._hideUI();const e=this.editor.commands.get("addButton").value;if(this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),t){const e=t.getAttribute("linkButtonSize"),i=t.getAttribute("linkButtonColor"),o=t.getAttribute("linkButtonStyle"),n=t.getAttribute("linkButtonHref");this.formView.color=i,this.formView.style=o,this.formView.size=e,this.formView.linkInputView.fieldView.value=n,this.formView.linkInputView.fieldView.element.value=n,this.formView.linkInputView.fieldView.set("value",n)}e&&(this.formView.linkInputView.fieldView.value=e.link,this.formView.colorDropdown.fieldView.value=e.color,this.formView.sizeDropdown.fieldView.value=e.size,this.formView.styleDropdown.fieldView.value=e.style),setTimeout(()=>{this.formView.linkInputView.fieldView.focus()},0)}_hideUI(){this._balloon.hasView(this.formView)&&(this.formView.element.reset(),this.buttonView.isOn=!1,this._balloon.remove(this.formView),this.editor.editing.view.focus())}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document;let i=null;return i=()=>t.domConverter.viewRangeToDom(e.selection.getFirstRange()),{target:i}}}class p extends t.Plugin{static get requires(){return[h,f]}}const k={Button:p}})(),o=o.default})());