!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.box=t())}(self,()=>(()=>{var e=[e=>{"use strict";e.exports=CKEditor5.dll},(e,t,o)=>{e.exports=o(0)("./src/core.js")},(e,t,o)=>{e.exports=o(0)("./src/widget.js")},,(e,t,o)=>{e.exports=o(0)("./src/engine.js")},(e,t,o)=>{e.exports=o(0)("./src/ui.js")},(e,t,o)=>{"use strict";const n=o(1),i=o(7);class s extends n.Plugin{static get pluginName(){return"BoxGeneralHtmlSupport"}init(){const{editor:e}=this,{plugins:t}=e;if(!t.has("GeneralHtmlSupport")||!t.has("DataFilter"))return;const{model:o,conversion:n}=e,{schema:s}=o,r=t.get("DataFilter");s.extend("box",{allowAttributes:["htmlAttributes"]}),n.for("upcast").add(e=>{e.on("element:div",(e,t,o)=>{var n;const i=t.viewItem;if(!(null===(n=i.getAttribute("class"))||void 0===n?void 0:n.match(/ucb\-box(\-inner|\-title|\-content)?/)))return;((e,n)=>{const i=r.processViewAttributes(e,o);i&&o.writer.setAttribute(n,i,t.modelRange)})(i,"htmlAttributes")},{priority:"low"})}),n.for("dataDowncast").add(e=>{e.on("attribute:htmlAttributes",(e,t,o)=>{const n=t.item;if(!["box","boxInner","boxTitle","boxContent"].includes(n.name)||!o.consumable.consume(n,e.name))return;const s=o.mapper.toViewElement(n);(null==s?void 0:s.is("element","div"))&&(0,i.setViewAttributes)(o.writer,t.attributeNewValue,s)},{priority:"low"})})}}t.A=s},(e,t,o)=>{"use strict";o.r(t),o.d(t,{getHtmlAttributeName:()=>P,mergeViewElementAttributes:()=>H,modifyGhsAttribute:()=>I,removeFormatting:()=>k,removeViewAttributes:()=>N,setViewAttributes:()=>D,toPascalCase:()=>F,updateViewAttributes:()=>V});const n="[object RegExp]",i="[object String]",s="[object Number]",r="[object Boolean]",a="[object Arguments]",l="[object Symbol]",c="[object Date]",u="[object Map]",b="[object Set]",m="[object Array]",d="[object ArrayBuffer]",h="[object Object]",f="[object DataView]",g="[object Uint8Array]",v="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",p="[object Int8Array]",y="[object Int16Array]",A="[object Int32Array]",j="[object Float32Array]",E="[object Float64Array]";function T(e,t,o,C=new Map,O=void 0){const z=O?.(e,t,o,C);if(null!=z)return z;if(null==(S=e)||"object"!=typeof S&&"function"!=typeof S)return e;var S,V;if(C.has(e))return C.get(e);if(Array.isArray(e)){const t=new Array(e.length);C.set(e,t);for(let n=0;n<e.length;n++)t[n]=T(e[n],n,o,C,O);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;C.set(e,t);for(const[n,i]of e)t.set(n,T(i,n,o,C,O));return t}if(e instanceof Set){const t=new Set;C.set(e,t);for(const n of e)t.add(T(n,void 0,o,C,O));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(V=e,ArrayBuffer.isView(V)&&!(V instanceof DataView)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);C.set(e,t);for(let n=0;n<e.length;n++)t[n]=T(e[n],n,o,C,O);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return C.set(e,t),B(t,e,o,C,O),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return C.set(e,t),B(t,e,o,C,O),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return C.set(e,t),B(t,e,o,C,O),t}if(e instanceof Error){const t=new e.constructor;return C.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,B(t,e,o,C,O),t}if("object"==typeof e&&function(e){switch(function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e)){case a:case m:case d:case f:case r:case c:case j:case E:case p:case y:case A:case u:case s:case h:case n:case b:case i:case l:case g:case v:case x:case w:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return C.set(e,t),B(t,e,o,C,O),t}return e}function B(e,t,o=e,n,i){const s=[...Object.keys(t),...(r=t,Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e)))];var r;for(let r=0;r<s.length;r++){const a=s[r],l=Object.getOwnPropertyDescriptor(e,a);(null==l||l.writable)&&(e[a]=T(t[a],a,o,n,i))}}function C(e,t){return function(e,t){return T(e,void 0,e,new Map,t)}(e,(o,n,l,c)=>{const u=t?.(o,n,l,c);if(null!=u)return u;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case s:case i:case r:{const t=new e.constructor(e?.valueOf());return B(t,e),t}case a:{const t={};return B(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}const O=/\p{Lu}?\p{Ll}+|[0-9]+|\p{Lu}+(?!\p{Ll})|\p{Emoji_Presentation}|\p{Extended_Pictographic}|\p{L}+/gu;function z(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return e.map(z).join(",");const t=String(e);return"0"===t&&Object.is(Number(e),-0)?"-0":t}function S(e){const t=function(e){return Array.from(e.match(O)??[])}(function(e){return"string"!=typeof e&&(e=z(e)),e.replace(/['\u2019]/g,"")}(e).trim());let o="";for(let e=0;e<t.length;e++){const n=t[e];o&&(o+=" "),n===n.toUpperCase()?o+=n:o+=n[0].toUpperCase()+n.slice(1).toLowerCase()}return o}function V(e,t,o,n){t&&N(e,t,n),o&&D(e,o,n)}function D(e,t,o){if(t.attributes)for(const[n,i]of Object.entries(t.attributes))e.setAttribute(n,i,o);t.styles&&e.setStyle(t.styles,o),t.classes&&e.addClass(t.classes,o)}function N(e,t,o){if(t.attributes)for(const[n]of Object.entries(t.attributes))e.removeAttribute(n,o);if(t.styles)for(const n of Object.keys(t.styles))e.removeStyle(n,o);t.classes&&e.removeClass(t.classes,o)}function H(e,t){const o=C(e);let n="attributes";for(n in t)o[n]="classes"==n?Array.from(new Set([...e[n]||[],...t[n]])):{...e[n],...t[n]};return o}function I(e,t,o,n,i){const s=t.getAttribute(o),r={};for(const e of["attributes","styles","classes"]){if(e!=n){s&&s[e]&&(r[e]=s[e]);continue}if("classes"==n){const t=new Set(s&&s.classes||[]);i(t),t.size&&(r[e]=Array.from(t));continue}const t=new Map(Object.entries(s&&s[e]||{}));i(t),t.size&&(r[e]=Object.fromEntries(t))}Object.keys(r).length?t.is("documentSelection")?e.setSelectionAttribute(o,r):e.setAttribute(o,r,t):s&&(t.is("documentSelection")?e.removeSelectionAttribute(o):e.removeAttribute(o,t))}function k(e,t,o){for(const n of t.getItems({shallow:!0})){const t=n.getAttribute(e);t&&t.attributes&&Object.keys(t.attributes).length?Object.keys(t).length>1&&o.setAttribute(e,{attributes:t.attributes},n):o.removeAttribute(e,n)}}function F(e){return S(e).replace(/ /g,"")}function P(e){return`html${F(e)}Attributes`}}],t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";o.d(n,{default:()=>E});var e=o(1),t=o(2);const i={left:{label:"Align left",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1,0,0,-1,0,19)"><path d="m2 16h7c0.549 0 1 0.451 1 1s-0.451 1-1 1h-7c-0.549 0-1-0.451-1-1s0.451-1 1-1z"/><path d="m17 1c1.097 0 2 0.903 2 2v9c0 1.097-0.903 2-2 2h-14c-1.097 0-2-0.903-2-2v-9c0-1.097 0.903-2 2-2h14zm0 1.5h-14c-0.241 0-0.449 0.173-0.492 0.41l-8e-3 0.09v9c0 0.241 0.173 0.449 0.41 0.492l0.09 8e-3h14c0.241 0 0.449-0.173 0.492-0.41l8e-3 -0.09v-9c0-0.241-0.173-0.449-0.41-0.492l-0.09-8e-3z" fill-opacity=".6"/></g></svg>',className:"ucb-box-title-left"},center:{label:"Align center",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1,0,0,-1,4.5,19)"><path d="m2 16h7c0.549 0 1 0.451 1 1s-0.451 1-1 1h-7c-0.549 0-1-0.451-1-1s0.451-1 1-1z"/></g><g transform="matrix(1,0,0,-1,0,19)"><path d="m17 1c1.097 0 2 0.903 2 2v9c0 1.097-0.903 2-2 2h-14c-1.097 0-2-0.903-2-2v-9c0-1.097 0.903-2 2-2h14zm0 1.5h-14c-0.241 0-0.449 0.173-0.492 0.41l-8e-3 0.09v9c0 0.241 0.173 0.449 0.41 0.492l0.09 8e-3h14c0.241 0 0.449-0.173 0.492-0.41l8e-3 -0.09v-9c0-0.241-0.173-0.449-0.41-0.492l-0.09-8e-3z" fill-opacity=".6"/></g></svg>',className:"ucb-box-title-center"},right:{label:"Align right",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1,0,0,-1,9,19)"><path d="m2 16h7c0.549 0 1 0.451 1 1s-0.451 1-1 1h-7c-0.549 0-1-0.451-1-1s0.451-1 1-1z" fill-rule="nonzero"/></g><g transform="matrix(1,0,0,-1,0,19)"><path d="m17 1c1.097 0 2 0.903 2 2v9c0 1.097-0.903 2-2 2h-14c-1.097 0-2-0.903-2-2v-9c0-1.097 0.903-2 2-2h14zm0 1.5h-14c-0.241 0-0.449 0.173-0.492 0.41l-8e-3 0.09v9c0 0.241 0.173 0.449 0.41 0.492l0.09 8e-3h14c0.241 0 0.449-0.173 0.492-0.41l8e-3 -0.09v-9c0-0.241-0.173-0.449-0.41-0.492l-0.09-8e-3z" fill-opacity=".6"/></g></svg>',className:"ucb-box-title-right"},hidden:{label:"Hide",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1,0,0,-1,0,17.5)"><path d="m17 1c1.097 0 2 0.903 2 2v9c0 1.097-0.903 2-2 2h-14c-1.097 0-2-0.903-2-2v-9c0-1.097 0.903-2 2-2h14zm0 1.5h-14c-0.241 0-0.449 0.173-0.492 0.41l-8e-3 0.09v9c0 0.241 0.173 0.449 0.41 0.492l0.09 8e-3h14c0.241 0 0.449-0.173 0.492-0.41l8e-3 -0.09v-9c0-0.241-0.173-0.449-0.41-0.492l-0.09-8e-3z" fill-opacity=".6"/></g><path d="m10 2.086-1.293-1.293c-0.39-0.39-1.024-0.39-1.414 0s-0.39 1.024 0 1.414l1.293 1.293-1.293 1.293c-0.39 0.39-0.39 1.024 0 1.414s1.024 0.39 1.414 0l1.293-1.293 1.293 1.293c0.39 0.39 1.024 0.39 1.414 0s0.39-1.024 0-1.414l-1.293-1.293 1.293-1.293c0.39-0.39 0.39-1.024 0-1.414s-1.024-0.39-1.414 0l-1.293 1.293z"/></svg>',className:"ucb-box-title-hidden"}},s="left",r={left:{label:"Float left",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',className:"ucb-box-alignment-left"},none:{label:"Fill width",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',className:"ucb-box-alignment-none"},right:{label:"Float right",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',className:"ucb-box-alignment-right"}},a="none",l={fill:{label:"Fill",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m18.048 1.841h-16.096v16.318h16.096v-16.318zm-11.47 3.637h6.85l0.065 2.323h-0.29c-0.142-0.73-0.323-1.205-0.542-1.425-0.219-0.221-0.68-0.331-1.382-0.331h-0.675v6.995c0 0.53 0.073 0.858 0.219 0.985s0.466 0.21 0.959 0.25v0.247h-3.534v-0.247c0.513-0.044 0.832-0.14 0.959-0.287 0.126-0.147 0.189-0.516 0.189-1.108v-6.835h-0.675c-0.671 0-1.128 0.109-1.37 0.327-0.243 0.218-0.426 0.694-0.548 1.429h-0.296l0.071-2.323z"/><path d="m18.048 1.841h-16.096v16.318h16.096v-16.318zm-4.934 7.958c-0.177-8e-3 -0.348-0.039-0.51-0.09v2.742c0.657 0.296 1.119 0.935 1.172 1.676l6e-3 0.389c0 0.866-0.448 1.361-0.92 1.643h3.186v-12.318h-1.471c0.5 0.351 0.832 0.926 0.85 1.581l0.065 2.323c0.015 0.54-0.189 1.063-0.565 1.45-0.353 0.363-0.83 0.578-1.333 0.603l-0.48 1e-3zm-6.708-1e-3c-0.504-0.025-0.981-0.241-1.335-0.605-0.376-0.388-0.58-0.913-0.563-1.453l0.071-2.323c0.02-0.654 0.352-1.226 0.85-1.576h-1.477v12.318h3.216c-0.472-0.282-0.92-0.777-0.92-1.643v-0.234l1.883 1.877h0.112l-0.163-3.766c-0.149 0.095-0.325 0.216-0.39 0.291-0.101 0.117-0.313 0.58-0.313 0.58s0.019-0.226 0.019-0.384v-3.169c-0.16 0.05-0.328 0.08-0.502 0.088l-0.488-1e-3zm0.172-4.32h6.85l0.065 2.323h-0.29c-0.142-0.73-0.323-1.205-0.542-1.425-0.219-0.221-0.68-0.331-1.382-0.331h-0.675v6.995c0 0.53 0.073 0.858 0.219 0.985s0.466 0.21 0.959 0.25v0.247h-3.534v-0.247c0.513-0.044 0.832-0.14 0.959-0.287 0.126-0.147 0.189-0.516 0.189-1.108v-6.835h-0.675c-0.671 0-1.128 0.109-1.37 0.327-0.243 0.218-0.426 0.694-0.548 1.429h-0.296l0.071-2.323z"/></svg>',className:"ucb-box-style-fill"},outline:{label:"Outline",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1.1554 0 0 1.1756 -2.8054 -3.1886)"><path d="m18.048 4.279h-13.931v13.88h13.931v-13.88zm-1.731 1.701v10.478h-10.469v-10.478h10.469z"/></g><g transform="matrix(12.125 0 0 13.67 6.3413 14.522)"><path d="m0.02-0.662h0.564l6e-3 0.17h-0.024c-0.012-0.053-0.027-0.088-0.045-0.104s-0.056-0.024-0.114-0.024h-0.055v0.512c0 0.038 6e-3 0.062 0.018 0.072 0.012 9e-3 0.038 0.015 0.079 0.018v0.018h-0.292v-0.018c0.043-3e-3 0.069-0.01 0.079-0.021 0.011-0.011 0.016-0.038 0.016-0.081v-0.5h-0.056c-0.055 0-0.093 8e-3 -0.113 0.024s-0.035 0.051-0.045 0.104h-0.024l6e-3 -0.17z"/></g></svg>',className:"ucb-box-style-outline"},none:{label:"None",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(12.125 0 0 13.67 6.3413 14.522)"><path d="m0.02-0.662h0.564l6e-3 0.17h-0.024c-0.012-0.053-0.027-0.088-0.045-0.104s-0.056-0.024-0.114-0.024h-0.055v0.512c0 0.038 6e-3 0.062 0.018 0.072 0.012 9e-3 0.038 0.015 0.079 0.018v0.018h-0.292v-0.018c0.043-3e-3 0.069-0.01 0.079-0.021 0.011-0.011 0.016-0.038 0.016-0.081v-0.5h-0.056c-0.055 0-0.093 8e-3 -0.113 0.024s-0.035 0.051-0.045 0.104h-0.024l6e-3 -0.17z"/></g></svg>',className:"ucb-box-style-none"}},c="fill",u={black:{label:"Black",className:"ucb-box-theme-black"},darkgray:{label:"Dark Gray",className:"ucb-box-theme-darkgray"},lightgray:{label:"Light Gray",className:"ucb-box-theme-lightgray"},white:{label:"White",className:"ucb-box-theme-white"}},b="lightgray";class m extends e.Command{execute(){const{model:e}=this.editor;e.change(t=>{e.insertContent(function(e){const t=e.createElement("box",{boxTitle:s,boxAlignment:a,boxStyle:c,boxTheme:b}),o=e.createElement("boxInner"),n=e.createElement("boxTitle"),i=e.createElement("boxContent");return e.append(o,t),e.append(n,o),e.append(i,o),e.appendElement("paragraph",i),t}(t))})}refresh(){const{model:e}=this.editor,{selection:t}=e.document,o=e.schema.findAllowedParent(t.getFirstPosition(),"box");this.isEnabled=null!==o}}var d=o(4);function h(e){const t=e.getFirstPosition();if(!t)return null;let o=t.parent;for(;o;){if(o.is("element")&&f(o))return o;o=o.parent}return null}function f(e){return"box"===e.name}class g extends e.Command{attributeName;defaultValue;constructor(e,t,o){super(e),this.attributeName=t,this.defaultValue=o}refresh(){const e=h(this.editor.model.document.selection),t=this.attributeName,o=this.defaultValue;this.isEnabled=!!e,this.isEnabled?this.value=e.getAttribute(t):this.value=o}execute(e={value:""}){const t=this.editor.model,o=h(t.document.selection),n=this.attributeName,i=this.defaultValue;o&&t.change(t=>t.setAttribute(n,e.value||i,o))}}class v extends g{refresh(){const e=h(this.editor.model.document.selection),t=this.attributeName,o=this.defaultValue;this.isEnabled=!!e&&"none"!==e.getAttribute("boxStyle"),this.isEnabled?this.value=e.getAttribute(t):this.value=o}}class x extends e.Plugin{static get requires(){return[t.Widget]}init(){this._defineSchema(),this._defineConverters(),this._defineCommands()}_defineSchema(){const e=this.editor.model.schema;e.register("box",{isObject:!0,allowWhere:"$block",allowAttributes:["boxTitle","boxAlignment","boxStyle","boxTheme"]}),e.register("boxInner",{isLimit:!0,allowIn:"box"}),e.register("boxTitle",{isLimit:!0,allowIn:"boxInner",allowContentOf:"$block"}),e.register("boxContent",{isLimit:!0,allowIn:"boxInner",allowContentOf:"$root"}),e.addChildCheck((e,t)=>{if(e.endsWith("boxContent")&&"box"===t.name)return!1})}_defineConverters(){const{conversion:e,editing:o}=this.editor;e.attributeToAttribute(w("boxTitle",i)),e.attributeToAttribute(w("boxAlignment",r)),e.attributeToAttribute(w("boxStyle",l)),e.attributeToAttribute(w("boxTheme",u)),e.for("upcast").elementToElement({model:"box",view:{name:"div",classes:"ucb-box"}}),e.for("upcast").elementToElement({model:"boxInner",view:{name:"div",classes:"ucb-box-inner"}}),e.for("upcast").elementToElement({model:"boxTitle",view:{name:"div",classes:"ucb-box-title"}}),e.for("upcast").elementToElement({model:"boxContent",view:{name:"div",classes:"ucb-box-content"}}),e.for("dataDowncast").elementToElement({model:"box",view:(e,{writer:t})=>p(t)}),e.for("dataDowncast").elementToElement({model:"boxInner",view:{name:"div",classes:"ucb-box-inner"}}),e.for("dataDowncast").elementToElement({model:"boxTitle",view:{name:"div",classes:"ucb-box-title"}}),e.for("dataDowncast").elementToElement({model:"boxContent",view:{name:"div",classes:"ucb-box-content"}}),e.for("editingDowncast").elementToElement({model:"box",view:(e,{writer:t})=>p(t,!0)}),e.for("editingDowncast").elementToElement({model:"boxInner",view:(e,{writer:t})=>t.createContainerElement("div",{class:"ucb-box-inner"})}),e.for("editingDowncast").elementToElement({model:"boxTitle",view:(e,{writer:n})=>{const i=n.createEditableElement("div",{class:"ucb-box-title"});return(0,d.enableViewPlaceholder)({view:o.view,element:i,text:"Title"}),(0,t.toWidgetEditable)(i,n)}}),e.for("editingDowncast").elementToElement({model:"boxContent",view:(e,{writer:o})=>{const n=o.createEditableElement("div",{class:"ucb-box-content"});return(0,t.toWidgetEditable)(n,o)}})}_defineCommands(){const e=this.editor.commands;e.add("insertBox",new m(this.editor)),e.add("modifyBoxTitle",new g(this.editor,"boxTitle",s)),e.add("alignBox",new g(this.editor,"boxAlignment",a)),e.add("styleBox",new g(this.editor,"boxStyle",c)),e.add("themeBox",new v(this.editor,"boxTheme",b))}}function w(e,t){const o={};for(const[e,n]of Object.entries(t))o[e]={key:"class",value:n.className};return{model:{key:e,values:Object.keys(t)},view:o}}function p(e,o=!1){const n=e.createContainerElement("div",{class:"ucb-box"});return o?(0,t.toWidget)(n,e,{label:"box widget",hasSelectionHandle:!0}):n}var y=o(5);class A extends e.Plugin{static get requires(){return[t.WidgetToolbarRepository]}init(){const e=this.editor,t=e.commands,o=e.ui.componentFactory;o.add("box",o=>{const n=t.get("insertBox"),i=new y.ButtonView(o);return i.set({label:o.t("Box"),icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.95154 2.84131C1.95154 2.28902 2.39925 1.84131 2.95154 1.84131H17.0484C17.6007 1.84131 18.0484 2.28902 18.0484 2.84131V17.1588C18.0484 17.7111 17.6007 18.1588 17.0484 18.1588H2.95154C2.39925 18.1588 1.95154 17.7111 1.95154 17.1588V2.84131ZM3.5116 8.10129H16.4926V15.3194C16.4926 15.8717 16.0449 16.3194 15.4926 16.3194H4.5116C3.95931 16.3194 3.5116 15.8717 3.5116 15.3194V8.10129ZM4.44415 3.81676C3.89187 3.81676 3.44415 4.26447 3.44415 4.81676V6.35087H16.4316V4.81676C16.4316 4.26447 15.9838 3.81676 15.4316 3.81676H4.44415Z" fill="black"/></svg>',tooltip:!0}),i.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(i,"execute",()=>e.execute("insertBox")),i}),o.add("boxTitle",e=>this._createDropdown(e,"Box title",i[s].icon,t.get("modifyBoxTitle"),i,s)),o.add("boxAlignment",e=>this._createDropdown(e,"Box alignment",r[a].icon,t.get("alignBox"),r,a)),o.add("boxStyle",e=>this._createDropdown(e,"Box style",l[c].icon,t.get("styleBox"),l,c)),o.add("boxTheme",e=>this._createDropdown(e,"Box theme",'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\x3c!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="m18 10v0.08437c-0.012504 1.1406-1.05 1.9156-2.1906 1.9156h-3.0594c-0.82812 0-1.5 0.67188-1.5 1.5 0 0.10625 0.0125 0.20938 0.03125 0.30938 0.06562 0.31875 0.20312 0.625 0.3375 0.93438 0.19062 0.43125 0.37812 0.85938 0.37812 1.3125 0 0.99375-0.675 1.8969-1.6688 1.9375-0.10938 0.003125-0.21875 0.00625-0.33125 0.00625-4.4156 0-7.9969-3.5812-7.9969-8s3.5812-8 8-8 8 3.5812 8 8zm-12 1a1 1 0 1 0-2 0 1 1 0 1 0 2 0zm0-3a1 1 0 1 0 0-2 1 1 0 1 0 0 2zm5-3a1 1 0 1 0-2 0 1 1 0 1 0 2 0zm3 3a1 1 0 1 0 0-2 1 1 0 1 0 0 2z" stroke-width=".03125"/></svg>',t.get("themeBox"),u,b))}afterInit(){this.editor.plugins.get(t.WidgetToolbarRepository).register("box",{items:["boxTitle","boxAlignment","boxStyle","boxTheme"],getRelatedElement:e=>e.focus?e.focus.getAncestors().find(e=>e.is("element")&&e.hasClass("ucb-box")):null})}_createDropdown(e,t,o,n,i,s){const r=(0,y.createDropdown)(e);return(0,y.addToolbarToDropdown)(r,Object.entries(i).map(([t,o])=>this._createButton(e,o.label,o.icon,n,t))),r.buttonView.set({label:e.t(t),icon:o,tooltip:!0,withText:!o}),o===i[s].icon&&r.buttonView.bind("icon").to(n,"value",e=>i[e]?i[e].icon:i[s].icon),r.bind("isEnabled").to(n,"isEnabled"),r}_createButton(e,t,o,n,i){const s=this.editor,r=new y.ButtonView;return r.set({label:e.t(t),icon:o,tooltip:!0,isToggleable:!0,withText:!o}),r.bind("isEnabled").to(n),r.bind("isOn").to(n,"value",e=>e===i),this.listenTo(r,"execute",()=>{n.execute({value:i}),s.editing.view.focus()}),r}}class j extends e.Plugin{static get requires(){return[x,A]}}const E={Box:j,BoxGeneralHtmlSupport:o(6).A}})(),n=n.default})());