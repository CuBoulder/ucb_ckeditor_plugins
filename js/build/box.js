!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.box=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/engine.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/engine.js")},"ckeditor5/src/ui.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(e,t,o)=>{e.exports=o("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{"use strict";o.d(n,{default:()=>f});var e=o("ckeditor5/src/core.js"),t=o("ckeditor5/src/widget.js");const i={left:{label:"Left",icon:e.icons.objectLeft,className:"ucb-box-alignment-left"},none:{label:"Full",icon:e.icons.objectFullWidth,className:"ucb-box-alignment-none"},right:{label:"Right",icon:e.icons.objectRight,className:"ucb-box-alignment-right"}},l="none",s={fill:{label:"Fill",icon:'<svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" version="1.1" viewBox="0 0 20 20" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m18.048 1.841h-16.096v16.318h16.096v-16.318zm-11.47 3.637h6.85l0.065 2.323h-0.29c-0.142-0.73-0.323-1.205-0.542-1.425-0.219-0.221-0.68-0.331-1.382-0.331h-0.675v6.995c0 0.53 0.073 0.858 0.219 0.985s0.466 0.21 0.959 0.25v0.247h-3.534v-0.247c0.513-0.044 0.832-0.14 0.959-0.287 0.126-0.147 0.189-0.516 0.189-1.108v-6.835h-0.675c-0.671 0-1.128 0.109-1.37 0.327-0.243 0.218-0.426 0.694-0.548 1.429h-0.296l0.071-2.323z"/><path d="m18.048 1.841h-16.096v16.318h16.096v-16.318zm-4.934 7.958c-0.177-8e-3 -0.348-0.039-0.51-0.09v2.742c0.657 0.296 1.119 0.935 1.172 1.676l6e-3 0.389c0 0.866-0.448 1.361-0.92 1.643h3.186v-12.318h-1.471c0.5 0.351 0.832 0.926 0.85 1.581l0.065 2.323c0.015 0.54-0.189 1.063-0.565 1.45-0.353 0.363-0.83 0.578-1.333 0.603l-0.48 1e-3zm-6.708-1e-3c-0.504-0.025-0.981-0.241-1.335-0.605-0.376-0.388-0.58-0.913-0.563-1.453l0.071-2.323c0.02-0.654 0.352-1.226 0.85-1.576h-1.477v12.318h3.216c-0.472-0.282-0.92-0.777-0.92-1.643v-0.234l1.883 1.877h0.112l-0.163-3.766c-0.149 0.095-0.325 0.216-0.39 0.291-0.101 0.117-0.313 0.58-0.313 0.58s0.019-0.226 0.019-0.384v-3.169c-0.16 0.05-0.328 0.08-0.502 0.088l-0.488-1e-3zm0.172-4.32h6.85l0.065 2.323h-0.29c-0.142-0.73-0.323-1.205-0.542-1.425-0.219-0.221-0.68-0.331-1.382-0.331h-0.675v6.995c0 0.53 0.073 0.858 0.219 0.985s0.466 0.21 0.959 0.25v0.247h-3.534v-0.247c0.513-0.044 0.832-0.14 0.959-0.287 0.126-0.147 0.189-0.516 0.189-1.108v-6.835h-0.675c-0.671 0-1.128 0.109-1.37 0.327-0.243 0.218-0.426 0.694-0.548 1.429h-0.296l0.071-2.323z"/></svg>',className:"ucb-box-style-fill"},outline:{label:"Outline",icon:'<svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" version="1.1" viewBox="0 0 20 20" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(1.1554 0 0 1.1756 -2.8054 -3.1886)"><path d="m18.048 4.279h-13.931v13.88h13.931v-13.88zm-1.731 1.701v10.478h-10.469v-10.478h10.469z"/></g><g transform="matrix(12.125 0 0 13.67 6.3413 14.522)"><path d="m0.02-0.662h0.564l6e-3 0.17h-0.024c-0.012-0.053-0.027-0.088-0.045-0.104s-0.056-0.024-0.114-0.024h-0.055v0.512c0 0.038 6e-3 0.062 0.018 0.072 0.012 9e-3 0.038 0.015 0.079 0.018v0.018h-0.292v-0.018c0.043-3e-3 0.069-0.01 0.079-0.021 0.011-0.011 0.016-0.038 0.016-0.081v-0.5h-0.056c-0.055 0-0.093 8e-3 -0.113 0.024s-0.035 0.051-0.045 0.104h-0.024l6e-3 -0.17z" fill-rule="nonzero"/></g></svg>',className:"ucb-box-style-outline"},none:{label:"None",icon:'<svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" version="1.1" viewBox="0 0 20 20" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(12.125 0 0 13.67 6.3413 14.522)"><path d="m0.02-0.662h0.564l6e-3 0.17h-0.024c-0.012-0.053-0.027-0.088-0.045-0.104s-0.056-0.024-0.114-0.024h-0.055v0.512c0 0.038 6e-3 0.062 0.018 0.072 0.012 9e-3 0.038 0.015 0.079 0.018v0.018h-0.292v-0.018c0.043-3e-3 0.069-0.01 0.079-0.021 0.011-0.011 0.016-0.038 0.016-0.081v-0.5h-0.056c-0.055 0-0.093 8e-3 -0.113 0.024s-0.035 0.051-0.045 0.104h-0.024l6e-3 -0.17z" fill-rule="nonzero"/></g></svg>',className:"ucb-box-style-none"}},r="fill",a={black:{label:"Black",className:"ucb-box-theme-black"},darkgray:{label:"Dark Gray",className:"ucb-box-theme-darkgray"},lightgray:{label:"Light Gray",className:"ucb-box-theme-lightgray"},white:{label:"White",className:"ucb-box-theme-white"}};class c extends e.Command{execute(){const{model:e}=this.editor;e.change((t=>{e.insertContent(function(e){const t=e.createElement("box",{boxAlignment:l,boxStyle:r}),o=e.createElement("boxInner"),n=e.createElement("boxTitle"),i=e.createElement("boxDescription");return e.append(o,t),e.append(n,o),e.append(i,o),e.appendElement("paragraph",i),t}(t))}))}refresh(){const{model:e}=this.editor,{selection:t}=e.document,o=e.schema.findAllowedParent(t.getFirstPosition(),"box");this.isEnabled=null!==o}}var d=o("ckeditor5/src/engine.js");function m(e){const t=e.getFirstPosition();if(!t)return null;let o=t.parent;for(;o;){if(o.is("element")&&"box"===o.name)return o;o=o.parent}return null}class b extends e.Command{attributeName;defaultValue;constructor(e,t,o){super(e),this.attributeName=t,this.defaultValue=o}refresh(){const e=m(this.editor.model.document.selection),t=this.attributeName,o=this.defaultValue;this.isEnabled=!!e,this.isEnabled?this.value=e.getAttribute(t):this.value=o}execute(e={value:""}){const t=this.editor.model,o=m(t.document.selection),n=this.attributeName,i=this.defaultValue;o&&t.change((t=>t.setAttribute(n,e.value||i,o)))}}class u extends b{refresh(){const e=m(this.editor.model.document.selection),t=this.attributeName,o=this.defaultValue;this.isEnabled=!!e&&"none"!==e.getAttribute("boxStyle"),this.isEnabled?this.value=e.getAttribute(t):this.value=o}}class h extends e.Plugin{static get requires(){return[t.Widget]}init(){this._defineSchema(),this._defineConverters(),this._defineCommands()}_defineSchema(){const e=this.editor.model.schema;e.register("box",{isObject:!0,allowWhere:"$block",allowAttributes:["boxAlignment","boxStyle","boxTheme"]}),e.register("boxInner",{isLimit:!0,allowIn:"box"}),e.register("boxTitle",{isLimit:!0,allowIn:"boxInner",allowContentOf:"$block"}),e.register("boxDescription",{isLimit:!0,allowIn:"boxInner",allowContentOf:"$root"}),e.addChildCheck(((e,t)=>{if(e.endsWith("boxDescription")&&"box"===t.name)return!1}))}_defineConverters(){const{conversion:e,editing:o}=this.editor;e.attributeToAttribute(x("boxAlignment",i)),e.attributeToAttribute(x("boxStyle",s)),e.attributeToAttribute(x("boxTheme",a)),e.for("upcast").elementToElement({model:"boxContainer",view:{name:"div",classes:"ucb-box-container"}}),e.for("upcast").elementToElement({model:"box",view:{name:"div",classes:"ucb-box"}}),e.for("upcast").elementToElement({model:"boxInner",view:{name:"div",classes:"ucb-box-inner"}}),e.for("upcast").elementToElement({model:"boxTitle",view:{name:"div",classes:"ucb-box-title"}}),e.for("upcast").elementToElement({model:"boxDescription",view:{name:"div",classes:"ucb-box-description"}}),e.for("downcast").elementToElement({model:"boxContainer",view:{name:"div",classes:"ucb-box-container"}}),e.for("dataDowncast").elementToElement({model:"box",view:(e,{writer:t})=>v(e,t)}),e.for("dataDowncast").elementToElement({model:"boxInner",view:{name:"div",classes:"ucb-box-inner"}}),e.for("dataDowncast").elementToElement({model:"boxTitle",view:{name:"div",classes:"ucb-box-title"}}),e.for("dataDowncast").elementToElement({model:"boxDescription",view:{name:"div",classes:"ucb-box-description"}}),e.for("editingDowncast").elementToElement({model:"box",view:(e,{writer:t})=>v(e,t,!0)}),e.for("editingDowncast").elementToElement({model:"boxInner",view:(e,{writer:t})=>t.createContainerElement("div",{class:"ucb-box-inner"})}),e.for("editingDowncast").elementToElement({model:"boxTitle",view:(e,{writer:n})=>{const i=n.createEditableElement("div",{class:"ucb-box-title"});return(0,d.enablePlaceholder)({view:o.view,element:i,text:"Title (Optional)"}),(0,t.toWidgetEditable)(i,n)}}),e.for("editingDowncast").elementToElement({model:"boxDescription",view:(e,{writer:o})=>{const n=o.createEditableElement("div",{class:"ucb-box-description"});return(0,t.toWidgetEditable)(n,o)}})}_defineCommands(){const e=this.editor.commands;e.add("insertBox",new c(this.editor)),e.add("alignBox",new b(this.editor,"boxAlignment",l)),e.add("styleBox",new b(this.editor,"boxStyle",r)),e.add("themeBox",new u(this.editor,"boxTheme","lightgray"))}}function x(e,t){const o={};for(const[e,n]of Object.entries(t))o[e]={key:"class",value:n.className};return{model:{key:e,values:Object.keys(t)},view:o}}function v(e,o,n=!1){const i=o.createContainerElement("div",{class:"ucb-box"});return n?(0,t.toWidget)(i,o,{label:"box widget"}):i}var g=o("ckeditor5/src/ui.js");class w extends e.Plugin{static get requires(){return[t.WidgetToolbarRepository]}init(){const e=this.editor;e.ui.componentFactory.add("box",(t=>{const o=e.commands.get("insertBox"),n=new g.ButtonView(t);return n.set({label:e.t("Box"),icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.95154 2.84131C1.95154 2.28902 2.39925 1.84131 2.95154 1.84131H17.0484C17.6007 1.84131 18.0484 2.28902 18.0484 2.84131V17.1588C18.0484 17.7111 17.6007 18.1588 17.0484 18.1588H2.95154C2.39925 18.1588 1.95154 17.7111 1.95154 17.1588V2.84131ZM3.5116 8.10129H16.4926V15.3194C16.4926 15.8717 16.0449 16.3194 15.4926 16.3194H4.5116C3.95931 16.3194 3.5116 15.8717 3.5116 15.3194V8.10129ZM4.44415 3.81676C3.89187 3.81676 3.44415 4.26447 3.44415 4.81676V6.35087H16.4316V4.81676C16.4316 4.26447 15.9838 3.81676 15.4316 3.81676H4.44415Z" fill="black"/></svg>',tooltip:!0}),n.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(n,"execute",(()=>e.execute("insertBox"))),n})),e.ui.componentFactory.add("boxAlignment",(e=>this._createAlignmentDropdown(e))),e.ui.componentFactory.add("boxStyle",(e=>this._createStyleDropdown(e))),e.ui.componentFactory.add("boxTheme",(e=>this._createThemeDropdown(e)))}afterInit(){this.editor.plugins.get(t.WidgetToolbarRepository).register("box",{items:["boxAlignment","boxStyle","boxTheme"],getRelatedElement:e=>e.focus.getAncestors().find((e=>e.is("element")&&e.hasClass("ucb-box")))})}_createAlignmentDropdown(e){const t=this.editor.commands.get("alignBox"),o=(0,g.createDropdown)(e);return(0,g.addToolbarToDropdown)(o,Object.entries(i).map((([e,o])=>this._createButton(o.label,o.icon,t,e)))),o.buttonView.set({label:"Box alignment",icon:i[l].icon,tooltip:!0}),o.buttonView.bind("icon").to(t,"value",(e=>i[e]?i[e].icon:i[l].icon)),o.bind("isEnabled").to(t,"isEnabled"),o}_createStyleDropdown(e){const t=this.editor.commands.get("styleBox"),o=(0,g.createDropdown)(e);return(0,g.addToolbarToDropdown)(o,Object.entries(s).map((([e,o])=>this._createButton(o.label,o.icon,t,e)))),o.buttonView.set({label:"Box style",icon:s[r].icon,tooltip:!0}),o.buttonView.bind("icon").to(t,"value",(e=>s[e]?s[e].icon:s[r].icon)),o.bind("isEnabled").to(t,"isEnabled"),o}_createThemeDropdown(e){const t=this.editor.commands.get("themeBox"),o=(0,g.createDropdown)(e);return(0,g.addToolbarToDropdown)(o,Object.entries(a).map((([e,o])=>this._createButton(o.label,o.icon,t,e)))),o.buttonView.set({label:"Box theme",icon:'<svg version="1.1" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\x3c!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e<path d="m18 10v0.08437c-0.012504 1.1406-1.05 1.9156-2.1906 1.9156h-3.0594c-0.82812 0-1.5 0.67188-1.5 1.5 0 0.10625 0.0125 0.20938 0.03125 0.30938 0.06562 0.31875 0.20312 0.625 0.3375 0.93438 0.19062 0.43125 0.37812 0.85938 0.37812 1.3125 0 0.99375-0.675 1.8969-1.6688 1.9375-0.10938 0.003125-0.21875 0.00625-0.33125 0.00625-4.4156 0-7.9969-3.5812-7.9969-8s3.5812-8 8-8 8 3.5812 8 8zm-12 1a1 1 0 1 0-2 0 1 1 0 1 0 2 0zm0-3a1 1 0 1 0 0-2 1 1 0 1 0 0 2zm5-3a1 1 0 1 0-2 0 1 1 0 1 0 2 0zm3 3a1 1 0 1 0 0-2 1 1 0 1 0 0 2z" stroke-width=".03125"/></svg>',tooltip:!0}),o.bind("isEnabled").to(t,"isEnabled"),o}_createButton(e,t,o,n){const i=this.editor,l=new g.ButtonView;return l.set({label:e,icon:t,tooltip:!0,isToggleable:!0,withText:!t}),l.bind("isEnabled").to(o),l.bind("isOn").to(o,"value",(e=>e===n)),this.listenTo(l,"execute",(()=>{o.execute({value:n}),i.editing.view.focus()})),l}}class p extends e.Plugin{static get requires(){return[h,w]}}const f={Box:p}})(),n=n.default})()));